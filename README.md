# Тестовое задание для стажировки Северсталь
## Направление "Разработка и программирование"
### Задание №3
**Кейс:** имеется 3 поставщика, каждый из поставщиков может поставлять 2 вида груш и 2 вида яблок. Поставщики заранее сообщают свои цены на виды продукции на определенный период поставок.

**Задача:**
1. Создать интерфейс приёмки поставок от поставщиков. В одной поставке от поставщика может быть несколько видов продукции.
2. Создать отчёт. За выбранный период показать поступление видов продукции по поставщикам с итогами по весу и стоимости.

**Требования:**
1. Данные приложения должны сохранятся в БД путем формирования таблиц из объектов Backend (СУБД любая).
2. Backend–Hibernate,Java,SpringFramework.
3. Frontend – любая реализация (Javascript, Java мы не будем рассматривать эту
часть).
4. Нам важно получить исходные коды программы + работающее мини
приложение. Выложить все файлы в GitHub или GitLab.

## Стек технологий
- Java
- Spring Framework
- Hybernate
- PostgreSQL
- Thymeleaf
- HTML, CSS

## База данных

**Физическая диаграмма**

![физ-диаграмма](https://github.com/ssofaaa07/fruit-supply-project/blob/master/физ-диграмма.png)

**Сущности**
- Suppliers - данные о поставщиках (заполняется при инициализации)
- Fruits - виды и названия фруктов (заполняется при инициализации)
- Prices - цены на фрукты (расписаны для каждого поставщика на Июнь, заполняется при инициализации)
- Deliveries - главная информация о поставке (дата, поставщик, общая сумма)
- DeliveryItems - детали поставки (виды фруктов, вес, цена)

## Работа приложения

Веб-приложение находится по ссылке http://localhost:8080/

После запуска FruitSupplyApplication загружается веб-страница, на которой можно произвести приемку поставки и создать отчет. Снизу страницы выводятся все принятые поставки. 

**Приемка поставки**

В окне "Принять поставку" нужно ввести следующие параметры:
- Поставщик (из БД подтягиваются названия поставщиков из таблицы Suppliers)
- Дата поставки (стоит выбирать только Июнь, так как в таблице БД Prices расписаны только цены на Июнь, иллюстрируя механизм сообщения поставщиками цен заранее на определённый период)
- Вес нужных видов фруктов (если поставлять определённый вид не требуется, оставить поле пустым)

По кнопке "Принять поставку" данные о поставке сохраняются в БД и считается сумма поставки. Внизу страницы обновляется список принятых поставок.

**Создание отчета**

В окне "Сформировать отчет" нужно ввести даты начала и конца периода, за который требуется сформировать отчет.

По кнопке "Скачать отчет" загружается на компьютер excel-документ, в котором генерируется таблица с информацией о всех поставках за выбранный период. Так же в файе подводится итог по общим весу и сумме поставок.

Пример отчета:

![пример отчета](https://github.com/ssofaaa07/fruit-supply-project/blob/master/report_example.png)

## Важно

- Взаимодействие с БД написано таким образом, что при каждом запуске приложения создаются таблицы и запускается скрипт, заполняющий их данными. При остановке работы приложения таблицы удаляются
- Цены на фрукты прописаны только на Июнь, поэтому принимать поставку можно только с датой в период 01.06.2024 - 30.06.2024
- Для корректной работы программы в application.properties нужно прописать путь к БД
